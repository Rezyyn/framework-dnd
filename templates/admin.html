<!-- admin.html -->
{% extends "base.html" %}

{% block title %}Admin{% endblock %}

{% block content %}
<div class="main-content admin-panel">
    <h1>User Management</h1>
    <div class="admin-navigation">
        <ul>
            <li><a href="{{ url_for('admin.user_management') }}">User Management</a></li>
            <li><a href="{{ url_for('admin.add_question') }}">Add Question</a></li>
            <li><a href="{{ url_for('admin.list_questions') }}">List Questions</a></li>
        </ul>
    </div>
    <div class="geojson-management">
        <h2>Manage GeoJSON Layers</h2>
        <form action="{{ url_for('admin.upload_geojson') }}" method="POST" enctype="multipart/form-data">
            <input type="file" name="geojson_file" required>
            <button type="submit">Upload GeoJSON</button>
        </form>
        <h3>Available Layers</h3>
        <ul>
            {% for layer in geojson_layers %}
            <li>
                {{ layer.name }} - 
                <form action="{{ url_for('admin.toggle_layer', layer_id=layer.id) }}" method="POST" style="display:inline;">
                    <button type="submit">{{ 'Deactivate' if layer.active else 'Activate' }}</button>
                </form>
                <form action="{{ url_for('admin.delete_layer', layer_id=layer.id) }}" method="POST" style="display:inline;">
                    <button type="submit">Delete</button>
                </form>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}
